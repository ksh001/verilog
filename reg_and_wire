베릴로그 입문 한달차... 

input, reg 개념이 너무 헷갈렸는데 드디어 이해하게 되었다!

모듈에선 input이 테스트벤치에선 reg라고 생각했는데 단단한 오해였음

입력과 출력을 정확하게 정의하지 않으면 오류가 난다ㅠ 확실히 공부해 두는것이 중요하다. 

1.  input & output

​

input과 output을 이해하려면 우선 모듈의 포트가 무엇인지 알아야 한다.

​

입력 a,b를 받아서 출력 sum을 내는 모듈을 생각해보자.

덧셈 처리를 하는 네모 블럭에 입력 a,b가 들어가고 sum이 출력되어야한다.

연결선(화살표)을 통해 넣어줘야 하는데 이걸 port(포트)라고한다.


sum gate

​

모듈을 선언할 때 sum_ab라는 모듈이름을 쓰고 

괄호 안에 모든 포트를 나열해 적어준다.


그럼 어느것이 입력이고 출력인지 알려줘야한다.

이 때 받은 포트의 입출력을 정의하는 것이 input, output이다.

input a,b;

output sum;

​

​

​

2. reg와 wire

​

"reg는 값을 저장가능하고 

wire는 값을 갖지않는 단순한 선"

이라고만 하면 이해가 쉽지 않았다.

​

쉽게 생각하면 

always문 안에 있는 변수는 반드시 reg형이어야한다.(initial문도 포함)

래치나 플립플롭처럼 clk에 따라 변하는 경우에 필요하다.

따라서 포트에 입,출력을 정의해주는 것과는 별개로 선언해줘야한다!!!

​

예를들어 다음과 같은 코드를 보자.


couter_1sec라는 이름의 모듈 포트는 총 4개다.

각각 input은 clk, reset

ouptut은 clk_cnt와 cnt이다.

​

그런데 always문에서 cnt와 clk_cnt 변수 2개가 사용된다.

따라서 output이자 동시에 reg 선언을 해주는 것이다.

.

.

.

헷갈렸던 것은 테스트벤치에선 input과 output을 사용하지 않았던 것인데 

일반적으로 testbench 모듈엔 포트가 없다.

따라서 input,output이 존재하지 않고

연결선인 wire와 always문에 값을 가지고 있어야 하는 reg를 선언하면 되는 것이다.

​

모듈을 불러와서 새로운 모듈을 만드는 경우

연결하는 방법에 대해서도 더 공부해서 글로 남겨야겠다!!

​
[출처] [Verilog] input, reg, wire의 차이|작성자 DREAM
